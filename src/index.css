@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Centralized Color Palette - RGB Channels for Tailwind Opacity Support */
    --koi-dark: 10 26 47;       /* #0a1a2f Deep Pond Blue */
    --koi-water: 17 75 95;      /* #114b5f Teal Water */
    --koi-water-light: 26 110 138; /* #1a6e8a Light Teal */
    --koi-fish-orange: 242 166 94; /* #f2a65e Koi Orange */
    --koi-fish-red: 217 78 78;    /* #d94e4e Koi Red */
    --koi-fish-white: 240 240 240;  /* #f0f0f0 Koi White/Scale */
    --koi-leaf: 69 176 89;       /* #45b059 Lily Pad Green */
    --koi-sand: 230 214 172;       /* #e6d6ac Sand/Detail */
  }

  body {
    @apply bg-sky-50 text-koi-dark font-pixel-body antialiased transition-colors duration-300;
    @apply text-base md:text-lg; /* 16px -> 18px */
    @apply dark:bg-koi-dark dark:text-koi-fish-white;
    /* background-color: var(--koi-dark); */
    image-rendering: pixelated;
  }
  
  h1 {
    @apply font-pixel-title text-3xl md:text-5xl; /* 30px -> 48px */
  }

  h2 {
    @apply font-pixel-title text-2xl md:text-3xl; /* 24px -> 30px */
  }

  h3, h4, h5, h6 {
    @apply font-pixel-title;
  }
}

@layer utilities {
  .pixelated {
    image-rendering: pixelated;
  }

  /* 8-bit Water Pattern - Removed (using WebGL now) */

  /* NES Style Container */
  .nes-container {
    @apply relative p-6 transition-colors duration-300;
    @apply bg-white border-4 border-koi-dark text-koi-dark;
    @apply dark:bg-koi-dark dark:border-white dark:text-white;
    
    box-shadow: 
      -4px 0 0 0 currentColor,
      4px 0 0 0 currentColor,
      0 -4px 0 0 currentColor,
      0 4px 0 0 currentColor;
    margin: 4px;
    border: none;
  }
  
  .nes-container.is-dark {
    @apply bg-sky-100 border-koi-water text-koi-dark;
    @apply dark:bg-koi-water dark:border-koi-fish-white dark:text-white;
  }
  
  /* Pixel Button */
  .pixel-btn {
    @apply relative inline-block px-4 py-2 bg-koi-fish-orange text-white font-pixel-title text-sm uppercase cursor-pointer transition-transform active:scale-95;
    box-shadow: 
      inset -2px -2px 0px 0px rgba(0,0,0,0.5),
      inset 2px 2px 0px 0px rgba(255,255,255,0.5);
  }
  
  .pixel-btn:hover {
    @apply bg-koi-fish-red;
  }

  /* Custom Pixel Scrollbar */
  .custom-scrollbar::-webkit-scrollbar {
    width: 14px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background-color: var(--koi-dark);
    border-left: 2px solid var(--koi-water);
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background-color: var(--koi-water-light);
    border: 2px solid var(--koi-dark);
    box-shadow: inset 2px 2px 0px 0px rgba(255,255,255,0.2);
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background-color: var(--koi-fish-orange);
  }

  /* Firefox Support */
  .custom-scrollbar {
    scrollbar-width: auto;
    scrollbar-color: var(--koi-water-light) var(--koi-dark);
  }
}

/* Scanline Effect */
.scanlines {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    to bottom,
    rgba(255,255,255,0),
    rgba(255,255,255,0) 50%,
    rgba(0,0,0,0.1) 50%,
    rgba(0,0,0,0.1)
  );
  background-size: 100% 4px;
  pointer-events: none;
  z-index: 50;
}
